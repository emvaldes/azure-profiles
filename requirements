> Get-Module -ListAvailable ;

    Directory: /usr/local/microsoft/powershell/7/Modules

ModuleType Version    PreRelease Name                                PSEdition ExportedCommands
---------- -------    ---------- ----                                --------- ----------------
Manifest   1.2.5                 Microsoft.PowerShell.Archive        Desk      {Compress-Archive, Expand-Archive}
Manifest   7.0.0.0               Microsoft.PowerShell.Host           Core      {Start-Transcript, Stop-Transcript}
Manifest   7.0.0.0               Microsoft.PowerShell.Management     Core      {Add-Content, Clear-Content, Clear-ItemProperty, Jo…
Binary     1.1.0                 Microsoft.PowerShell.PSResourceGet  Core,Desk {Compress-PSResource, Find-PSResource, Get-Installe…
Manifest   7.0.0.0               Microsoft.PowerShell.Security       Core      {Get-Credential, Get-ExecutionPolicy, Set-Execution…
Manifest   7.0.0.0               Microsoft.PowerShell.Utility        Core      {Export-Alias, Get-Alias, Import-Alias, New-Alias…}
Script     1.4.8.1               PackageManagement                   Desk      {Find-Package, Get-Package, Get-PackageProvider, Ge…
Script     2.2.5                 PowerShellGet                       Desk      {Find-Command, Find-DSCResource, Find-Module, Find-…
Script     2.3.6                 PSReadLine                          Desk      {Get-PSReadLineKeyHandler, Set-PSReadLineKeyHandler…
Binary     2.0.3                 ThreadJob                           Desk      Start-ThreadJob

> Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force
> Get-Module -ListAvailable ;

    Directory: ${HOME}/.local/share/powershell/Modules

ModuleType Version    PreRelease Name                                PSEdition ExportedCommands
---------- -------    ---------- ----                                --------- ----------------
Script     13.1.0                Az                                  Core,Desk
Script     4.0.2                 Az.Accounts                         Core,Desk {Disable-AzDataCollection, Disable-AzContextAutosav…
Script     2.1.0                 Az.Advisor                          Core,Desk {Disable-AzAdvisorRecommendation, Enable-AzAdvisorR…
Script     6.1.0                 Az.Aks                              Core,Desk {Disable-AzAksAddOn, Enable-AzAksAddOn, Get-AzAksCl…
Script     1.2.0                 Az.AnalysisServices                 Core,Desk {Add-AzAnalysisServicesAccount, Export-AzAnalysisSe…
Script     4.1.0                 Az.ApiManagement                    Core,Desk {Add-AzApiManagementApiToGateway, Add-AzApiManageme…
Script     2.0.1                 Az.App                              Core,Desk {Disable-AzContainerAppRevision, Enable-AzContainer…
Script     1.4.0                 Az.AppConfiguration                 Core,Desk {Clear-AzAppConfigurationDeletedStore, Get-AzAppCon…
Script     2.3.0                 Az.ApplicationInsights              Core,Desk {Get-AzApplicationInsights, Get-AzApplicationInsigh…
Script     1.1.0                 Az.ArcResourceBridge                Core,Desk {Get-AzArcResourceBridge, Get-AzArcResourceBridgeAp…
Script     2.1.0                 Az.Attestation                      Core,Desk {Add-AzAttestationPolicySigner, Get-AzAttestationPo…
Script     1.1.0                 Az.Automanage                       Core,Desk {Get-AzAutomanageBestPractice, Get-AzAutomanageConf…
Script     1.11.0                Az.Automation                       Core,Desk {Export-AzAutomationDscConfiguration, Export-AzAuto…
Script     3.7.0                 Az.Batch                            Core,Desk {Disable-AzBatchAutoScale, Disable-AzBatchComputeNo…
Script     2.2.0                 Az.Billing                          Core,Desk {Get-AzBillingAccount, Get-AzBillingInvoice, Get-Az…
Script     3.3.0                 Az.Cdn                              Core,Desk {Clear-AzCdnEndpointContent, Clear-AzFrontDoorCdnEn…
Script     2.1.0                 Az.CloudService                     Core,Desk {Get-AzCloudService, Get-AzCloudServiceInstanceView…
Script     1.15.0                Az.CognitiveServices                Core,Desk {Add-AzCognitiveServicesAccountNetworkRule, Get-AzC…
Script     9.0.1                 Az.Compute                          Core,Desk {Add-AzImageDataDisk, Add-AzVhd, Add-AzVMAdditional…
Script     1.1.0                 Az.ConfidentialLedger               Core,Desk {Get-AzConfidentialLedger, New-AzConfidentialLedger…
Script     1.1.1                 Az.ConnectedMachine                 Core,Desk {Connect-AzConnectedMachine, Get-AzConnectedExtensi…
Script     4.1.1                 Az.ContainerInstance                Core,Desk {Add-AzContainerInstanceOutput, Get-AzContainerGrou…
Script     4.3.0                 Az.ContainerRegistry                Core,Desk {Connect-AzContainerRegistry, Get-AzContainerRegist…
Script     1.16.0                Az.CosmosDB                         Core,Desk {Get-AzCosmosDBAccount, Get-AzCosmosDBAccountKey, G…
Script     1.2.0                 Az.DataBoxEdge                      Core,Desk {Get-AzDataBoxEdgeBandwidthSchedule, Get-AzDataBoxE…
Script     1.10.0                Az.Databricks                       Core,Desk {Get-AzDatabricksAccessConnector, Get-AzDatabricksO…
Script     1.19.0                Az.DataFactory                      Core,Desk {Add-AzDataFactoryV2DataFlowDebugSessionPackage, Ad…
Script     1.1.0                 Az.DataLakeAnalytics                Core,Desk {Add-AzDataLakeAnalyticsDataSource, Add-AzDataLakeA…
Script     1.4.0                 Az.DataLakeStore                    Core,Desk {Add-AzDataLakeStoreFirewallRule, Add-AzDataLakeSto…
Script     2.6.0                 Az.DataProtection                   Core,Desk {Backup-AzDataProtectionBackupInstanceAdhoc, Edit-A…
Script     1.1.0                 Az.DataShare                        Core,Desk {Get-AzDataShare, Get-AzDataShareAccount, Get-AzDat…
Script     5.4.1                 Az.DesktopVirtualization            Core,Desk {Disconnect-AzWvdUserSession, Expand-AzWvdMsixImage…
Script     2.0.1                 Az.DevCenter                        Core,Desk {Connect-AzDevCenterAdminCatalog, Connect-AzDevCent…
Script     1.1.0                 Az.DevTestLabs                      Core,Desk {Get-AzDtlAllowedVMSizesPolicy, Get-AzDtlAutoShutdo…
Script     1.3.1                 Az.Dns                              Core,Desk {Add-AzDnsRecordConfig, Get-AzDnsRecordSet, Get-AzD…
Script     1.1.1                 Az.DnsResolver                      Core,Desk {Get-AzDnsForwardingRuleset, Get-AzDnsForwardingRul…
Script     1.2.1                 Az.ElasticSan                       Core,Desk {Add-AzElasticSanVolumeGroupNetworkRule, Get-AzElas…
Script     2.2.0                 Az.EventGrid                        Core,Desk {Disable-AzEventGridPartnerTopic, Enable-AzEventGri…
Script     5.1.0                 Az.EventHub                         Core,Desk {New-AzEventHubAuthorizationRuleSASToken, Approve-A…
Script     1.12.0                Az.FrontDoor                        Core,Desk {Disable-AzFrontDoorCustomDomainHttps, Enable-AzFro…
Script     4.2.0                 Az.Functions                        Core,Desk {Get-AzFunctionApp, Get-AzFunctionAppAvailableLocat…
Script     6.3.1                 Az.HDInsight                        Core,Desk {Add-AzHDInsightClusterIdentity, Add-AzHDInsightCom…
Script     2.1.0                 Az.HealthcareApis                   Core,Desk {Get-AzHealthcareApisService, Get-AzHealthcareApisW…
Script     1.0.0                 Az.HealthDataAIServices             Core,Desk {Get-AzDeidService, New-AzDeidService, Remove-AzDei…
Script     2.8.0                 Az.IotHub                           Core,Desk {Add-AzIotHubCertificate, Add-AzIotHubConfiguration…
Script     6.3.1                 Az.KeyVault                         Core,Desk {Add-AzKeyVaultCertificate, Add-AzKeyVaultCertifica…
Script     2.4.0                 Az.Kusto                            Core,Desk {Add-AzKustoClusterCalloutPolicy, Add-AzKustoCluste…
Script     1.1.0                 Az.LoadTesting                      Core,Desk {Get-AzLoad, New-AzLoad, Remove-AzLoad, Update-AzLo…
Script     1.6.0                 Az.LogicApp                         Core,Desk {Get-AzIntegrationAccount, Get-AzIntegrationAccount…
Script     1.2.0                 Az.MachineLearning                  Core,Desk {Add-AzMlWebServiceRegionalProperty, Export-AzMlWeb…
Script     1.2.0                 Az.MachineLearningServices          Core,Desk {Get-AzMLServiceQuota, Get-AzMLServiceUsage, Get-Az…
Script     1.5.0                 Az.Maintenance                      Core,Desk {Get-AzApplyUpdate, Get-AzConfigurationAssignment, …
Script     1.3.0                 Az.ManagedServiceIdentity           Core,Desk {Get-AzFederatedIdentityCredential, Get-AzSystemAss…
Script     3.1.0                 Az.ManagedServices                  Core,Desk {Get-AzManagedServicesAssignment, Get-AzManagedServ…
Script     2.1.0                 Az.MarketplaceOrdering              Core,Desk {Get-AzMarketplaceTerms, Invoke-AzMarketplaceSignTe…
Script     1.2.0                 Az.Media                            Core,Desk {Get-AzMediaService, Get-AzMediaServiceKey, Get-AzM…
Script     2.6.0                 Az.Migrate                          Core,Desk {Get-AzMigrateDiscoveredServer, Get-AzMigrateHCIJob…
Script     6.0.1                 Az.Monitor                          Core,Desk {Add-AzLogProfile, Add-AzMetricAlertRule, Add-AzMet…
Script     1.3.0                 Az.MySql                            Core,Desk {Get-AzMySqlConfiguration, Get-AzMySqlConnectionStr…
Script     7.12.0                Az.Network                          Core,Desk {Add-AzApplicationGatewayAuthenticationCertificate,…
Script     1.1.0                 Az.NetworkCloud                     Core,Desk {Deploy-AzNetworkCloudCluster, Disable-AzNetworkClo…
Script     1.2.0                 Az.Nginx                            Core,Desk {Get-AzNginxCertificate, Get-AzNginxConfiguration, …
Script     1.2.0                 Az.NotificationHubs                 Core,Desk {Get-AzNotificationHub, Get-AzNotificationHubAuthor…
Script     3.3.0                 Az.OperationalInsights              Core,Desk {Disable-AzOperationalInsightsIISLogCollection, Dis…
Script     1.1.0                 Az.Oracle                           Core,Desk {Add-AzOracleCloudVMClusterVM, Get-AzOracleAutonomo…
Script     1.7.0                 Az.PolicyInsights                   Core,Desk {Get-AzPolicyAttestation, Get-AzPolicyEvent, Get-Az…
Script     1.2.0                 Az.PostgreSql                       Core,Desk {Get-AzPostgreSqlConfiguration, Get-AzPostgreSqlCon…
Script     2.1.0                 Az.PowerBIEmbedded                  Core,Desk {Get-AzPowerBIEmbeddedCapacity, New-AzPowerBIEmbedd…
Script     1.2.0                 Az.PrivateDns                       Core,Desk {Add-AzPrivateDnsRecordConfig, Get-AzPrivateDnsReco…
Script     7.4.0                 Az.RecoveryServices                 Core,Desk {Add-AzRecoveryServicesAsrReplicationProtectedItemD…
Script     1.11.0                Az.RedisCache                       Core,Desk {Export-AzRedisCache, Get-AzRedisCache, Get-AzRedis…
Script     1.2.1                 Az.RedisEnterpriseCache             Core,Desk {Export-AzRedisEnterpriseCache, Get-AzRedisEnterpri…
Script     2.1.0                 Az.Relay                            Core,Desk {Get-AzRelayAuthorizationRule, Get-AzRelayHybridCon…
Script     1.1.0                 Az.ResourceGraph                    Core,Desk {Search-AzGraph, Get-AzResourceGraphQuery, New-AzRe…
Script     1.3.0                 Az.ResourceMover                    Core,Desk {Add-AzResourceMoverMoveResource, Get-AzResourceMov…
Script     7.8.0                 Az.Resources                        Core,Desk {Export-AzResourceGroup, Export-AzTemplateSpec, Get…
Script     1.8.0                 Az.Security                         Core,Desk {Add-AzSecurityAdaptiveNetworkHardening, Add-AzSecu…
Script     3.2.0                 Az.SecurityInsights                 Core,Desk {Get-AzSentinelAlertRule, Get-AzSentinelAlertRuleAc…
Script     4.1.0                 Az.ServiceBus                       Core,Desk {New-AzServiceBusAuthorizationRuleSASToken, Test-Az…
Script     3.5.0                 Az.ServiceFabric                    Core,Desk {Add-AzServiceFabricClientCertificate, Add-AzServic…
Script     2.1.0                 Az.SignalR                          Core,Desk {Get-AzSignalR, Get-AzSignalRKey, Get-AzSignalRUsag…
Script     6.0.1                 Az.Sql                              Core,Desk {Add-AzSqlDatabaseToFailoverGroup, Add-AzSqlElastic…
Script     2.4.0                 Az.SqlVirtualMachine                Core,Desk {Assert-AzSqlVMEntraAuth, Get-AzAvailabilityGroupLi…
Script     2.5.0                 Az.StackHCI                         Core,Desk {Add-AzStackHCIVMAttestation, Disable-AzStackHCIAtt…
Script     1.1.0                 Az.StackHCIVM                       Core,Desk {Add-AzStackHCIVMVirtualMachineDataDisk, Add-AzStac…
Script     8.1.0                 Az.Storage                          Core,Desk {Add-AzRmStorageContainerLegalHold, Add-AzStorageAc…
Script     1.5.0                 Az.StorageMover                     Core,Desk {Get-AzStorageMover, Get-AzStorageMoverAgent, Get-A…
Script     2.4.0                 Az.StorageSync                      Core,Desk {Get-AzStorageSyncCloudEndpoint, Get-AzStorageSyncG…
Script     2.1.0                 Az.StreamAnalytics                  Core,Desk {Get-AzStreamAnalyticsCluster, Get-AzStreamAnalytic…
Script     2.1.0                 Az.Support                          Core,Desk {Get-AzSupportChatTranscript, Get-AzSupportChatTran…
Script     3.1.0                 Az.Synapse                          Core,Desk {Add-AzSynapseDataFlowDebugSessionPackage, Add-AzSy…
Script     1.3.0                 Az.TrafficManager                   Core,Desk {Add-AzTrafficManagerCustomHeaderToEndpoint, Add-Az…
Script     3.3.0                 Az.Websites                         Core,Desk {Add-AzWebAppAccessRestrictionRule, Add-AzWebAppTra…

    Directory: /usr/local/microsoft/powershell/7/Modules

ModuleType Version    PreRelease Name                                PSEdition ExportedCommands
---------- -------    ---------- ----                                --------- ----------------
Manifest   1.2.5                 Microsoft.PowerShell.Archive        Desk      {Compress-Archive, Expand-Archive}
Manifest   7.0.0.0               Microsoft.PowerShell.Host           Core      {Start-Transcript, Stop-Transcript}
Manifest   7.0.0.0               Microsoft.PowerShell.Management     Core      {Add-Content, Clear-Content, Clear-ItemProperty, Jo…
Binary     1.1.0                 Microsoft.PowerShell.PSResourceGet  Core,Desk {Compress-PSResource, Find-PSResource, Get-Installe…
Manifest   7.0.0.0               Microsoft.PowerShell.Security       Core      {Get-Credential, Get-ExecutionPolicy, Set-Execution…
Manifest   7.0.0.0               Microsoft.PowerShell.Utility        Core      {Export-Alias, Get-Alias, Import-Alias, New-Alias…}
Script     1.4.8.1               PackageManagement                   Desk      {Find-Package, Get-Package, Get-PackageProvider, Ge…
Script     2.2.5                 PowerShellGet                       Desk      {Find-Command, Find-DSCResource, Find-Module, Find-…
Script     2.3.6                 PSReadLine                          Desk      {Get-PSReadLineKeyHandler, Set-PSReadLineKeyHandler…
Binary     2.0.3                 ThreadJob                           Desk      Start-ThreadJob

> $PSVersionTable.PSVersion

Major  Minor  Patch  PreReleaseLabel BuildLabel
-----  -----  -----  --------------- ----------
7      5      0

## Objective: This command attempts to authenticate to Azure with a specific authorization scope.
##            AzureKeyVaultServiceEndpointResourceId is a predefined Azure resource identifier related to Azure Key Vault.
##            It ensures that authentication allows access to Azure Key Vault without requiring a full re-login.
## Usage: If your script interacts with Azure Key Vault and requires explicit authentication for vault access.
## Ignore: If your script does not use Key Vault—standard Connect-AzAccount is sufficient.
Connect-AzAccount -AuthScope AzureKeyVaultServiceEndpointResourceId ;

## Objective: Lists all subscriptions associated with the authenticated account.
##            Useful when working with multiple subscriptions and needing to pick the right one.
## Usage: If you need to verify available subscriptions before setting the active one.
## Ignore: If you already know the SubscriptionId—your script already retrieves and sets it.
Get-AzSubscription ;

## Objective: Explicitly sets the active Azure subscription for the PowerShell session.
##            Ensures that subsequent Azure PowerShell commands run in the correct subscription.
## Usage: If you run multiple scripts or work with multiple subscriptions—this avoids commands running under the wrong subscription.
## Ignore: If you already use az account set --subscription $Script:SubscriptionId, as that command effectively does the same thing for Azure CLI.
Set-AzContext -SubscriptionId $SubscriptionId ;
